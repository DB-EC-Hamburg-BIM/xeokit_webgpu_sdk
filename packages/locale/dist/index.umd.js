!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("strongly-typed-events"),require("@xeokit/core")):"function"==typeof define&&define.amd?define(["exports","strongly-typed-events","@xeokit/core"],t):t((e||self).locale={},e.stronglyTypedEvents,e.core)}(this,function(e,t,r){var n=0;function i(e){return"__private_"+n+++"_"+e}function o(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var s=/*#__PURE__*/i("messages"),a=/*#__PURE__*/i("locales"),l=/*#__PURE__*/i("locale");function u(e,t){if(t[e])return t[e];for(var r=e.split("."),n=t,i=0,o=r.length;n&&i<o;i++)n=n[r[i]];return n}function c(e,t){return void 0===t&&(t=[]),e.replace(/\{\{|\}\}|\{(\d+)\}/g,function(e,r){return"{{"===e?"{":"}}"===e?"}":t[r]})}e.LocaleService=/*#__PURE__*/function(){function e(e){void 0===e&&(e={messages:{},locale:""}),this.onUpdated=void 0,Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:"en"}),this.onUpdated=new r.EventEmitter(new t.EventDispatcher),this.messages=e.messages,this.locale=e.locale}var n,i,f=e.prototype;return f.loadMessages=function(e){for(var t in void 0===e&&(e={}),e)o(this,s)[s][t]=e[t];this.messages=o(this,s)[s]},f.clearMessages=function(){this.messages={}},f.translate=function(e,t){var r=o(this,s)[s][o(this,l)[l]];if(!r)return null;var n=u(e,r);return n?t?c(n,t):n:null},f.translatePlurals=function(e,t,r){var n=o(this,s)[s][o(this,l)[l]];if(!n)return null;var i=u(e,n);return(i=0===(t=parseInt(""+t,10))?i.zero:t>1?i.other:i.one)?(i=c(i,[t]),r&&(i=c(i,r)),i):null},n=e,(i=[{key:"messages",set:function(e){o(this,s)[s]=e||{},o(this,a)[a]=Object.keys(o(this,s)[s]),this.onUpdated.dispatch(this,o(this,l)[l])}},{key:"locales",get:function(){return o(this,a)[a]}},{key:"locale",get:function(){return o(this,l)[l]},set:function(e){e=e||"de",o(this,l)[l]!==e&&(o(this,l)[l]=e,this.onUpdated.dispatch(this,o(this,l)[l]))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,"symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key))?i:String(i),n)}var i}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),e}()});
//# sourceMappingURL=index.umd.js.map
