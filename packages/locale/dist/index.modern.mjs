import{EventDispatcher as e}from"strongly-typed-events";import{EventEmitter as t}from"@xeokit/core";var s=0;function r(e){return"__private_"+s+++"_"+e}function i(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var n=/*#__PURE__*/r("messages"),o=/*#__PURE__*/r("locales"),l=/*#__PURE__*/r("locale");class a{constructor(s={messages:{},locale:""}){this.onUpdated=void 0,Object.defineProperty(this,n,{writable:!0,value:void 0}),Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:"en"}),this.onUpdated=new t(new e),this.messages=s.messages,this.locale=s.locale}set messages(e){i(this,n)[n]=e||{},i(this,o)[o]=Object.keys(i(this,n)[n]),this.onUpdated.dispatch(this,i(this,l)[l])}get locales(){return i(this,o)[o]}get locale(){return i(this,l)[l]}set locale(e){e=e||"de",i(this,l)[l]!==e&&(i(this,l)[l]=e,this.onUpdated.dispatch(this,i(this,l)[l]))}loadMessages(e={}){for(let t in e)i(this,n)[n][t]=e[t];this.messages=i(this,n)[n]}clearMessages(){this.messages={}}translate(e,t){const s=i(this,n)[n][i(this,l)[l]];if(!s)return null;const r=h(e,s);return r?t?c(r,t):r:null}translatePlurals(e,t,s){const r=i(this,n)[n][i(this,l)[l]];if(!r)return null;let o=h(e,r);return o=0===(t=parseInt(""+t,10))?o.zero:t>1?o.other:o.one,o?(o=c(o,[t]),s&&(o=c(o,s)),o):null}}function h(e,t){if(t[e])return t[e];const s=e.split(".");let r=t;for(let e=0,t=s.length;r&&e<t;e++)r=r[s[e]];return r}function c(e,t=[]){return e.replace(/\{\{|\}\}|\{(\d+)\}/g,function(e,s){return"{{"===e?"{":"}}"===e?"}":t[s]})}export{a as LocaleService};
//# sourceMappingURL=index.modern.mjs.map
