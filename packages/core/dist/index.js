import{EventDispatcher as t}from"strongly-typed-events";function e(t){return e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},e(t)}function n(t,e){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},n(t,e)}function r(t,e,o){return r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,e,r){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return r&&n(i,r.prototype),i},r.apply(null,arguments)}function o(t){var i="function"==typeof Map?new Map:void 0;return o=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(t))return i.get(t);i.set(t,o)}function o(){return r(t,arguments,e(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n(o,t)},o(t)}var i=0;function u(t){return"__private_"+i+++"_"+t}function s(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var c=/*#__PURE__*/u("ievent"),f=/*#__PURE__*/function(){function t(t){Object.defineProperty(this,c,{writable:!0,value:void 0}),s(this,c)[c]=t}var e,n,r=t.prototype;return r.subscribe=function(t){return s(this,c)[c].asEvent().subscribe(t)},r.dispatch=function(t,e){s(this,c)[c].dispatch(t,e)},r.sub=function(t){return s(this,c)[c].asEvent().sub(t)},r.unsubscribe=function(t){s(this,c)[c].asEvent().unsubscribe(t)},r.unsub=function(t){s(this,c)[c].asEvent().unsub(t)},r.one=function(t){return s(this,c)[c].asEvent().one(t)},r.has=function(t){return s(this,c)[c].asEvent().has(t)},r.clear=function(){s(this,c)[c].asEvent().clear()},e=t,(n=[{key:"count",get:function(){return s(this,c)[c].count}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,"symbol"==typeof(o=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key))?o:String(o),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),a=function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,o=4294967295*Math.random()|0;return t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&n]+t[n>>8&255]+"-"+t[n>>16&15|64]+t[n>>24&255]+"-"+t[63&r|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[255&o]+t[o>>8&255]+t[o>>16&255]+t[o>>24&255]}}(),h=/*#__PURE__*/u("owner"),p=/*#__PURE__*/u("ownedComponents"),l=/*#__PURE__*/u("prefixMessageWithID"),d=/*#__PURE__*/u("own"),y=/*#__PURE__*/function(){function e(e,n){void 0===n&&(n={}),Object.defineProperty(this,d,{value:b}),Object.defineProperty(this,l,{value:v}),this.id=void 0,this.destroyed=void 0,this.dirty=void 0,Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),this.onDestroyed=void 0,s(this,h)[h]=e,this.id=n.id||a(),this.destroyed=!1,s(this,p)[p]=null,this.dirty=!1,this.onDestroyed=new f(new t),e&&s(e,d)[d](this)}var n=e.prototype;return n.log=function(t){t="[LOG] "+s(this,l)[l](t),console.log(t)},n.warn=function(t){t="[WARN] "+s(this,l)[l](t),console.warn(t)},n.error=function(t){t="[ERROR] "+s(this,l)[l](t),console.error(t)},n.setDirty=function(){this.dirty||(this.dirty=!0)},n.cleanIfDirty=function(){this.dirty&&(this.dirty=!1,this.clean())},n.clean=function(){},n.destroy=function(){if(!this.destroyed){if(this.destroyed=!0,s(this,p)[p])for(var t in s(this,p)[p])s(this,p)[p].hasOwnProperty(t)&&(s(this,p)[p][t].destroy(),delete s(this,p)[p][t]);s(this,p)[p]=null,this.dirty=!1,this.onDestroyed.dispatch(this,null),this.onDestroyed.clear()}},e}();function v(t){return" ["+this.constructor.name+' "'+this.id+'"]: '+t}function b(t){var e=this;s(this,p)[p]||(s(this,p)[p]={}),s(this,p)[p][t.id]||(s(this,p)[p][t.id]=t),t.onDestroyed.one(function(){delete s(e,p)[p][t.id]})}var O=/*#__PURE__*/function(t){var e,r;function o(){return t.apply(this,arguments)||this}return r=t,(e=o).prototype=Object.create(r.prototype),e.prototype.constructor=e,n(e,r),o}(/*#__PURE__*/o(Error));export{y as Component,f as EventEmitter,O as SDKError};
//# sourceMappingURL=index.js.map
