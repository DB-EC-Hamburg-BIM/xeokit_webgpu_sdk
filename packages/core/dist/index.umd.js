!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("strongly-typed-events")):"function"==typeof define&&define.amd?define(["exports","strongly-typed-events"],e):e((t||self).core={},t.stronglyTypedEvents)}(this,function(t,e){function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}function o(t,e,n){return o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,e,n){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return n&&r(i,n.prototype),i},o.apply(null,arguments)}function i(t){var e="function"==typeof Map?new Map:void 0;return i=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return o(t,arguments,n(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),r(i,t)},i(t)}var u=0;function s(t){return"__private_"+u+++"_"+t}function c(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var f=/*#__PURE__*/s("ievent"),a=/*#__PURE__*/function(){function t(t){Object.defineProperty(this,f,{writable:!0,value:void 0}),c(this,f)[f]=t}var e,n,r=t.prototype;return r.subscribe=function(t){return c(this,f)[f].asEvent().subscribe(t)},r.dispatch=function(t,e){c(this,f)[f].dispatch(t,e)},r.sub=function(t){return c(this,f)[f].asEvent().sub(t)},r.unsubscribe=function(t){c(this,f)[f].asEvent().unsubscribe(t)},r.unsub=function(t){c(this,f)[f].asEvent().unsub(t)},r.one=function(t){return c(this,f)[f].asEvent().one(t)},r.has=function(t){return c(this,f)[f].asEvent().has(t)},r.clear=function(){c(this,f)[f].asEvent().clear()},e=t,(n=[{key:"count",get:function(){return c(this,f)[f].count}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,"symbol"==typeof(o=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key))?o:String(o),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),p=function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,o=4294967295*Math.random()|0;return t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&n]+t[n>>8&255]+"-"+t[n>>16&15|64]+t[n>>24&255]+"-"+t[63&r|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[255&o]+t[o>>8&255]+t[o>>16&255]+t[o>>24&255]}}(),h=/*#__PURE__*/s("owner"),l=/*#__PURE__*/s("ownedComponents"),d=/*#__PURE__*/s("prefixMessageWithID"),y=/*#__PURE__*/s("own"),v=/*#__PURE__*/function(){function t(t,n){void 0===n&&(n={}),Object.defineProperty(this,y,{value:O}),Object.defineProperty(this,d,{value:b}),this.id=void 0,this.destroyed=void 0,this.dirty=void 0,Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),this.onDestroyed=void 0,c(this,h)[h]=t,this.id=n.id||p(),this.destroyed=!1,c(this,l)[l]=null,this.dirty=!1,this.onDestroyed=new a(new e.EventDispatcher),t&&c(t,y)[y](this)}var n=t.prototype;return n.log=function(t){t="[LOG] "+c(this,d)[d](t),console.log(t)},n.warn=function(t){t="[WARN] "+c(this,d)[d](t),console.warn(t)},n.error=function(t){t="[ERROR] "+c(this,d)[d](t),console.error(t)},n.setDirty=function(){this.dirty||(this.dirty=!0)},n.cleanIfDirty=function(){this.dirty&&(this.dirty=!1,this.clean())},n.clean=function(){},n.destroy=function(){if(!this.destroyed){if(this.destroyed=!0,c(this,l)[l])for(var t in c(this,l)[l])c(this,l)[l].hasOwnProperty(t)&&(c(this,l)[l][t].destroy(),delete c(this,l)[l][t]);c(this,l)[l]=null,this.dirty=!1,this.onDestroyed.dispatch(this,null),this.onDestroyed.clear()}},t}();function b(t){return" ["+this.constructor.name+' "'+this.id+'"]: '+t}function O(t){var e=this;c(this,l)[l]||(c(this,l)[l]={}),c(this,l)[l][t.id]||(c(this,l)[l][t.id]=t),t.onDestroyed.one(function(){delete c(e,l)[l][t.id]})}var w=/*#__PURE__*/function(t){var e,n;function o(){return t.apply(this,arguments)||this}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n),o}(/*#__PURE__*/i(Error));t.Component=v,t.EventEmitter=a,t.SDKError=w});
//# sourceMappingURL=index.umd.js.map
