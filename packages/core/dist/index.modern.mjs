import{EventDispatcher as t}from"strongly-typed-events";var e=0;function s(t){return"__private_"+e+++"_"+t}function i(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var r=/*#__PURE__*/s("ievent");class n{constructor(t){Object.defineProperty(this,r,{writable:!0,value:void 0}),i(this,r)[r]=t}get count(){return i(this,r)[r].count}subscribe(t){return i(this,r)[r].asEvent().subscribe(t)}dispatch(t,e){i(this,r)[r].dispatch(t,e)}sub(t){return i(this,r)[r].asEvent().sub(t)}unsubscribe(t){i(this,r)[r].asEvent().unsubscribe(t)}unsub(t){i(this,r)[r].asEvent().unsub(t)}one(t){return i(this,r)[r].asEvent().one(t)}has(t){return i(this,r)[r].asEvent().has(t)}clear(){i(this,r)[r].asEvent().clear()}}const o=(()=>{const t=[];for(let e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return()=>{const e=4294967295*Math.random()|0,s=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return`${t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]}-${t[255&s]}${t[s>>8&255]}-${t[s>>16&15|64]}${t[s>>24&255]}-${t[63&i|128]}${t[i>>8&255]}-${t[i>>16&255]}${t[i>>24&255]}${t[255&r]}${t[r>>8&255]}${t[r>>16&255]}${t[r>>24&255]}`}})();var h=/*#__PURE__*/s("owner"),d=/*#__PURE__*/s("ownedComponents"),a=/*#__PURE__*/s("prefixMessageWithID"),c=/*#__PURE__*/s("own");class u{constructor(e,s={}){Object.defineProperty(this,c,{value:y}),Object.defineProperty(this,a,{value:l}),this.id=void 0,this.destroyed=void 0,this.dirty=void 0,Object.defineProperty(this,h,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),this.onDestroyed=void 0,i(this,h)[h]=e,this.id=s.id||o(),this.destroyed=!1,i(this,d)[d]=null,this.dirty=!1,this.onDestroyed=new n(new t),e&&i(e,c)[c](this)}log(t){t=`[LOG] ${i(this,a)[a](t)}`,console.log(t)}warn(t){t=`[WARN] ${i(this,a)[a](t)}`,console.warn(t)}error(t){t=`[ERROR] ${i(this,a)[a](t)}`,console.error(t)}setDirty(){this.dirty||(this.dirty=!0)}cleanIfDirty(){this.dirty&&(this.dirty=!1,this.clean())}clean(){}destroy(){if(!this.destroyed){if(this.destroyed=!0,i(this,d)[d])for(let t in i(this,d)[d])i(this,d)[d].hasOwnProperty(t)&&(i(this,d)[d][t].destroy(),delete i(this,d)[d][t]);i(this,d)[d]=null,this.dirty=!1,this.onDestroyed.dispatch(this,null),this.onDestroyed.clear()}}}function l(t){return` [${this.constructor.name} "${this.id}"]: ${t}`}function y(t){i(this,d)[d]||(i(this,d)[d]={}),i(this,d)[d][t.id]||(i(this,d)[d][t.id]=t),t.onDestroyed.one(()=>{delete i(this,d)[d][t.id]})}class v extends Error{}export{u as Component,n as EventEmitter,v as SDKError};
//# sourceMappingURL=index.modern.mjs.map
